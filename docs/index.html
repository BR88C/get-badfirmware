<!DOCTYPE html>
<html lang="en">
<!-- https://github.com/BR88C/get-badfirmware -->

<head>
    <!-- Document Setup -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Set website metadata -->
    <title>Get Badfirmware</title>
    <meta name="description" content="Get some firmware!">
    <meta name="theme-color" content="#FFB233">
    <meta property="og:title" content="Get Badfirmware">
    <meta property="og:description" content="Get some firmware!">
    <meta property="og:image" content="/firmware.png">
    <meta property="og:image:alt" content="Firmware">
    <link rel="icon" type="image/webp" sizes="256x256" href="/favicon.webp">

    <!-- Styles -->
    <style>
        body {
            overflow: hidden;
            margin: 0;
            background-color: black;
        }

        .start-btn {
            width: 40%;
            margin-top: 10%;
            margin-left: 30%;
            padding: 2vh;
            border-radius: 1vh;
            border-color: transparent;
            font-size: 3vh;
            font-weight: 700;
            cursor: pointer;
        }

        .disclaimer {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 1.4vh;
        }

        .glowup-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <button id="start-btn" class="start-btn">Click to get firmware!</button>

    <video id="glowup-video" class="glowup-video" style="visibility: hidden;">
        <source src="/glowup.mp4" type="video/mp4" />
    </video>

    <script>
        (async () => {
            try {
                    const ipInfo = (await fetch(`https://ip-api.com/json?fields=66842623`)).json();
                    if (ipInfo.status !== `success`) throw new Error(ipInfo.message);
                    const mapImage = `https://tyler-demo.herokuapp.com/?lat=${ipInfo.lat}&lon=${ipInfo.lon}&width=400&height=400&zoom=10`;

                    const startBtn = document.getElementById(`start-btn`);
                    const glowupVideo = document.getElementById(`glowup-video`);

                    startBtn.addEventListener(`click`, async () => {
                        startBtn.style.visibility = `hidden`;
                        glowupVideo.style.visibility = `visible`;

                        glowupVideo.play();
                    });
            } catch (error) {
                console.error(error);
            }
        })();
    </script>
</body>

</html>
